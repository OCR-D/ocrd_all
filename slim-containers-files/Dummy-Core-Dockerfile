# I need this because i need the network-for-slim-branch and this contains a comment how to make
# pudb run.
FROM ocrd/core:latest AS base
WORKDIR /build-ocrd
RUN apt install vim-tiny -y
RUN git clone https://github.com/ocr-d/core.git && \
	cd core && \
	git checkout network-for-slim-prep && \
	#sed -i "290 i \        from pudb.remote import set_trace; set_trace(term_size=(160, 40), host='0.0.0.0', port=6900)" ocrd_network/ocrd_network/processing_server.py && \
	make install-dev && \
	pip install pudb
EXPOSE 6900
WORKDIR /data
